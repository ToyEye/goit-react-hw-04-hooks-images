(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__24qRS",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__3G7vC"}},18:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3uXL6",Modal:"Modal_Modal__3_7GO"}},22:function(e,t,a){},32:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__361Fh"}},33:function(e,t,a){e.exports={Button:"Button_Button__2wqUb"}},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2MKfj",SearchForm:"Searchbar_SearchForm__1i0jB",SearchForm__button:"Searchbar_SearchForm__button__3Re-z",SearchForm__button__label:"Searchbar_SearchForm__button__label__3kDj-",SearchForm__input:"Searchbar_SearchForm__input__1u6jN"}},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=(a(22),a(20)),u=a(13),s=a(4),l=a(5),m=a.n(l),b=a(6),d=a.n(b),j=a(8),f=a(40),h=a(1);function _(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(h.jsx)("header",{className:d.a.Searchbar,children:Object(h.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c?(t(c),o("")):j.b.error("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441",{duration:2e3,style:{borderRadius:"10px",background:"#333",color:"#fff",padding:"10px",textAlign:"center"}})},children:[Object(h.jsxs)("button",{type:"submit",className:d.a.SearchForm__button,children:[Object(h.jsx)(f.a,{}),Object(h.jsx)("span",{className:d.a.SearchForm__button__label,children:"Search"})]}),Object(h.jsx)("input",{className:d.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)},value:c})]})})}var p,O=a(32),g=a.n(O),x=a(15),v=a.n(x),S=function(e){var t=e.id,a=e.webformatURL,n=e.onOpenModal,r=e.largeImageURL;return Object(h.jsx)("li",{id:t,className:v.a.ImageGalleryItem,children:Object(h.jsx)("img",{className:v.a.ImageGalleryItem_image,src:a,alt:"",onClick:function(){return n(r)}})},t)},y=function(e){var t=e.images,a=e.onOpenModal;return Object(h.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL;return Object(h.jsx)(S,{id:t,webformatURL:n,onOpenModal:a,largeImageURL:r},t)}))})},I=a(33),w=a.n(I),F=function(e){var t=e.name,a=e.onLoadMoreButton;return Object(h.jsx)("button",{type:"button",className:w.a.Button,onClick:function(){return a()},children:t})},k=a(34),G=a(36),M=a(35),L=a.n(M),N=G.a.div(p||(p=Object(k.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n"]))),R=function(){return Object(h.jsx)(N,{children:Object(h.jsx)(L.a,{type:"Grid",color:"#00BFFF",height:80,width:80,timeout:1e3})})},B=a(18),C=a.n(B),U=document.querySelector("#modal-root");function E(e){var t=e.onCloseModal,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(h.jsx)("div",{className:C.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(h.jsx)("div",{className:C.a.Modal,children:a})}),U)}var q=a(19),z=a.n(q);z.a.defaults.baseURL="https://pixabay.com/api";var A="/?key=".concat("24201171-f795c334c12b489d5c6645c6d","&image_type=photo&orientation=horizontal&per_page=12"),T=function(){var e=Object(u.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get("".concat(A,"&q=").concat(t,"&page=").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=T;function J(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(s.a)(c,2),l=o[0],b=o[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),p=f[0],O=f[1],g=Object(n.useState)(!1),x=Object(s.a)(g,2),v=x[0],S=x[1],I=Object(n.useState)(""),w=Object(s.a)(I,2),k=w[0],G=w[1];Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(1),e.next=3,D(p,1).then((function(e){e.hits.length<1?j.b.error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u043d\u043e, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441",{duration:2e3,style:{borderRadius:"10px",background:"#333",color:"#fff",padding:"10px",textAlign:"center"}}):(r(e.hits),b((function(e){return e+1})))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]);var M=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),500)},L=function(e){S((function(e){return!e})),G(e)};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j.a,{}),v&&Object(h.jsx)(E,{onCloseModal:L,children:Object(h.jsx)("img",{src:k,alt:""})}),Object(h.jsx)(_,{onSubmit:function(e){O(e)}}),a.length<1?Object(h.jsx)(R,{}):Object(h.jsx)(y,{images:a,onOpenModal:L,onLargeImgClick:function(e){G(e)}}),a.length>1&&Object(h.jsx)(F,{name:"Load more",onLoadMoreButton:function(){D(p,l).then((function(e){b((function(e){return e+1})),r((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))}))})),M()}})]})}o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(J,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.347f2eef.chunk.js.map