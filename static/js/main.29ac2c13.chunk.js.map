{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/LoaderSimbol.js","components/Modal/Modal.js","serviceApi/api.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","value","setValue","className","s","SearchForm","evt","preventDefault","toast","error","duration","style","borderRadius","background","color","padding","textAlign","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","id","webformatURL","onOpenModal","largeImageURL","ImageGalleryItem_image","src","alt","onClick","ImageGallery","images","map","Button","name","onLoadMoreButton","LoaderContainer","styled","div","LoaderSimbol","height","width","timeout","modalRoot","document","querySelector","Modal","onCloseModal","children","useEffect","window","addEventListener","onCloseModalClick","removeEventListener","code","createPortal","Overlay","currentTarget","axios","defaults","baseURL","URI","getImages","search","page","a","get","response","data","App","setImages","setPage","setSearch","showModal","setShowModal","setLargeImageURL","setData","fetchData","then","total","totalHits","hits","prevState","handleScroll","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","onToggleModal","img","length","onLargeImgClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.29ac2c13.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__24qRS\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3G7vC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3uXL6\",\"Modal\":\"Modal_Modal__3_7GO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__361Fh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2wqUb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2MKfj\",\"SearchForm\":\"Searchbar_SearchForm__1i0jB\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3Re-z\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__3kDj-\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1u6jN\"};","import React, { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport toast from 'react-hot-toast';\r\nimport { ImSearch } from 'react-icons/im';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [value, setValue] = useState('');\r\n\r\n  const hadldeChange = evt => {\r\n    setValue(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    if (value === '') {\r\n      toast.error('Необходимо ввести запрос', {\r\n        duration: 2000,\r\n        style: {\r\n          borderRadius: '10px',\r\n          background: '#333',\r\n          color: '#fff',\r\n          padding: '10px',\r\n          textAlign: 'center',\r\n        },\r\n      });\r\n      return;\r\n    }\r\n    onSubmit(value);\r\n    setValue('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchForm__button}>\r\n          <ImSearch />\r\n          <span className={s.SearchForm__button__label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm__input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={hadldeChange}\r\n          value={value}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, onOpenModal, largeImageURL }) => (\r\n  <li key={id} id={id} className={s.ImageGalleryItem}>\r\n    <img\r\n      className={s.ImageGalleryItem_image}\r\n      src={webformatURL}\r\n      alt=\"\"\r\n      onClick={() => onOpenModal(largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onOpenModal }) => (\r\n  <ul className={s.ImageGallery}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        id={id}\r\n        webformatURL={webformatURL}\r\n        onOpenModal={onOpenModal}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ name, onLoadMoreButton }) => (\r\n  <button type=\"button\" className={s.Button} onClick={() => onLoadMoreButton()}>\r\n    {name}\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  onLoadMoreButton: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import styled from 'styled-components';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst LoaderContainer = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 3;\r\n`;\r\n\r\nexport { LoaderContainer };\r\n\r\nconst LoaderSimbol = () => {\r\n  return (\r\n    <LoaderContainer>\r\n      <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} timeout={1000} />\r\n    </LoaderContainer>\r\n  );\r\n};\r\n\r\nexport default LoaderSimbol;\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onCloseModal, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', onCloseModalClick);\r\n    return () => {\r\n      window.removeEventListener('keydown', onCloseModalClick);\r\n    };\r\n  });\r\n\r\n  const onCloseModalClick = evt => {\r\n    if (evt.code === 'Escape') {\r\n      onCloseModal();\r\n    }\r\n  };\r\n\r\n  const onBackdropClick = evt => {\r\n    if (evt.target === evt.currentTarget) {\r\n      onCloseModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={onBackdropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\nModal.propTypes = {\r\n  onCloseModal: PropTypes.func,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst KEY = '24201171-f795c334c12b489d5c6645c6d';\r\nconst URI = `/?key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\nexport const getImages = async (search, page) => {\r\n  const response = await axios.get(`${URI}&q=${search}&page=${page}`);\r\n  return response.data;\r\n};\r\n\r\nexport default getImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport LoaderSimbol from './components/Loader';\r\nimport Modal from './components/Modal';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport getImages from './serviceApi/api';\r\n\r\nexport default function App() {\r\n  const [images, setImages] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [search, setSearch] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeImageURL, setLargeImageURL] = useState('');\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (search === '') {\r\n      return;\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      setPage(1);\r\n      await getImages(search, 1).then(data => {\r\n        if (data.total < 1) {\r\n          toast.error('По вашему запросу ничего не найдно, введите другой запрос', {\r\n            duration: 2000,\r\n            style: {\r\n              borderRadius: '10px',\r\n              background: '#333',\r\n              color: '#fff',\r\n              padding: '10px',\r\n              textAlign: 'center',\r\n            },\r\n          });\r\n          return;\r\n        }\r\n        setData(data.totalHits);\r\n        setImages(data.hits);\r\n        setPage(prevState => prevState + 1);\r\n      });\r\n    };\r\n    fetchData();\r\n  }, [search]);\r\n\r\n  const onLoadMoreButton = () => {\r\n    getImages(search, page).then(data => {\r\n      setPage(prevState => prevState + 1);\r\n      setImages(prevState => [...prevState, ...data.hits]);\r\n    });\r\n    handleScroll();\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 500);\r\n  };\r\n\r\n  const onSubmitHandler = value => {\r\n    setSearch(value);\r\n  };\r\n\r\n  const onLargeImgClick = largeImageURL => {\r\n    setLargeImageURL(largeImageURL);\r\n  };\r\n\r\n  const onToggleModal = img => {\r\n    setShowModal(prevState => !prevState);\r\n    setLargeImageURL(img);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Toaster />\r\n\r\n      {showModal && (\r\n        <Modal onCloseModal={onToggleModal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n      <Searchbar onSubmit={onSubmitHandler} />\r\n      {images.length < 1 ? (\r\n        <LoaderSimbol />\r\n      ) : (\r\n        <ImageGallery\r\n          images={images}\r\n          onOpenModal={onToggleModal}\r\n          onLargeImgClick={onLargeImgClick}\r\n        />\r\n      )}\r\n      {data > 12 && <Button name={'Load more'} onLoadMoreButton={onLoadMoreButton} />}\r\n    </div>\r\n  );\r\n}\r\nApp.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  search: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}