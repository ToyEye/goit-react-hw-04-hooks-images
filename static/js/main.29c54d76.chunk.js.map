{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/LoaderSimbol.styled.js","components/Modal/Modal.styled.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","hadldeChange","evt","searchValue","target","setState","handleSubmit","preventDefault","props","onSubmit","toast","error","duration","style","borderRadius","background","color","padding","textAlign","className","s","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","onOpenModal","largeImageURL","ImageGalleryItem_image","src","alt","onClick","ImageGallery","images","map","Button","name","onLoadMoreButton","LoaderContainer","styled","div","LoaderSimbol","height","width","timeout","modalRoot","document","querySelector","Modal","onCloseModal","code","onBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","axios","defaults","baseURL","URI","App","page","search","showModal","a","get","response","newArray","data","hits","prevState","handleScroll","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","onSubmitHandler","onLargeImgClick","onToggleModal","img","_","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.29c54d76.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__24qRS\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3G7vC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3uXL6\",\"Modal\":\"Modal_Modal__3_7GO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__361Fh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2wqUb\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport toast from 'react-hot-toast';\r\nimport { ImSearch } from 'react-icons/im';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  hadldeChange = evt => {\r\n    const searchValue = evt.target.value;\r\n    this.setState({ value: searchValue });\r\n  };\r\n\r\n  handleSubmit = evt => {\r\n    const { value } = this.state;\r\n    evt.preventDefault();\r\n    if (value === '') {\r\n      toast.error('Необходимо ввести запрос', {\r\n        duration: 2000,\r\n        style: {\r\n          borderRadius: '10px',\r\n          background: '#333',\r\n          color: '#fff',\r\n          padding: '10px',\r\n          textAlign: 'center',\r\n        },\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <ImSearch />\r\n            <span className={s.SearchForm__button__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.hadldeChange}\r\n            value={this.state.value}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, onOpenModal, largeImageURL }) => (\r\n  <li key={id} id={id} className={s.ImageGalleryItem}>\r\n    <img\r\n      className={s.ImageGalleryItem_image}\r\n      src={webformatURL}\r\n      alt=\"\"\r\n      onClick={() => onOpenModal(largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onOpenModal }) => (\r\n  <ul className={s.ImageGallery}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        id={id}\r\n        webformatURL={webformatURL}\r\n        onOpenModal={onOpenModal}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ name, onLoadMoreButton }) => (\r\n  <button type=\"button\" className={s.Button} onClick={() => onLoadMoreButton()}>\r\n    {name}\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  name: PropTypes.string,\r\n  onLoadMoreButton: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import styled from 'styled-components';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst LoaderContainer = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 3;\r\n`;\r\n\r\nexport { LoaderContainer };\r\n\r\nconst LoaderSimbol = () => {\r\n  return (\r\n    <LoaderContainer>\r\n      <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} timeout={1000} />\r\n    </LoaderContainer>\r\n  );\r\n};\r\n\r\nexport default LoaderSimbol;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onCloseModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onCloseModal);\r\n  }\r\n\r\n  onCloseModal = evt => {\r\n    if (evt.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = evt => {\r\n    if (evt.target === evt.currentTarget) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport LoaderSimbol from './components/Loader';\r\nimport Modal from './components/Modal';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst KEY = '24201171-f795c334c12b489d5c6645c6d';\r\nconst URI = `/?key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\nclass App extends Component {\r\n  static propTypes = {\r\n    largeImageURL: PropTypes.string,\r\n    search: PropTypes.string,\r\n  };\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    search: '',\r\n    showModal: false,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const response = await axios.get(`${URI}`);\r\n    this.setState({ images: response.data.hits, page: 2 });\r\n  }\r\n\r\n  async componentDidUpdate(_, prevState) {\r\n    const { search } = this.state;\r\n\r\n    if (prevState.search !== search) {\r\n      this.setState({ images: [], page: 1 });\r\n      const response = await axios.get(`${URI}&q=${search}&page=1`);\r\n      if (response.data.hits.length < 1) {\r\n        toast.error('По вашему запросу ничего не найдно, введите другой запрос', {\r\n          duration: 2000,\r\n          style: {\r\n            borderRadius: '10px',\r\n            background: '#333',\r\n            color: '#fff',\r\n            padding: '10px',\r\n            textAlign: 'center',\r\n          },\r\n        });\r\n        return;\r\n      }\r\n      this.setState(prevState => {\r\n        return {\r\n          images: response.data.hits,\r\n          page: prevState.page + 1,\r\n        };\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  onLoadMoreButton = async () => {\r\n    const { page, search } = this.state;\r\n    const response = await axios.get(`${URI}&q=${search}&page=${page}`);\r\n    const newArray = response.data.hits;\r\n    this.setState(prevState => {\r\n      return {\r\n        images: [...prevState.images, ...newArray],\r\n        page: prevState.page + 1,\r\n      };\r\n    });\r\n\r\n    this.handleScroll();\r\n  };\r\n\r\n  handleScroll = () => {\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 500);\r\n  };\r\n  onSubmitHandler = ({ value }) => {\r\n    this.setState({ search: value });\r\n  };\r\n\r\n  onLargeImgClick = ({ largeImageURL }) => {\r\n    this.setState({ largeImageURL: largeImageURL });\r\n  };\r\n\r\n  onToggleModal = img => {\r\n    this.setState(prevState => ({\r\n      showModal: !prevState.showModal,\r\n      largeImageURL: img,\r\n    }));\r\n  };\r\n  render() {\r\n    const { images, showModal, largeImageURL } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <Toaster />\r\n\r\n        {showModal && (\r\n          <Modal onCloseModal={this.onToggleModal}>\r\n            <img src={largeImageURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n        <Searchbar onSubmit={this.onSubmitHandler} />\r\n        {images.length < 1 ? (\r\n          <LoaderSimbol />\r\n        ) : (\r\n          <ImageGallery\r\n            images={images}\r\n            onOpenModal={this.onToggleModal}\r\n            onLargeImgClick={this.onLargeImgClick}\r\n          />\r\n        )}\r\n        {images.length > 1 && (\r\n          <Button name={'Load more'} onLoadMoreButton={this.onLoadMoreButton} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2MKfj\",\"SearchForm\":\"Searchbar_SearchForm__1i0jB\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3Re-z\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__3kDj-\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1u6jN\"};"],"sourceRoot":""}