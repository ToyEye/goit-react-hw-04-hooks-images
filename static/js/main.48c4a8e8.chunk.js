(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem___yqG4",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1ONgd"}},18:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1LuRk",Modal:"Modal_Modal__31Pib"}},22:function(e,t,a){},32:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2BYys"}},33:function(e,t,a){e.exports={Button:"Button_Button__2mVST"}},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3kkOy",SearchForm:"Searchbar_SearchForm__3AZhF",SearchForm__button:"Searchbar_SearchForm__button__1R4DC",SearchForm__button__label:"Searchbar_SearchForm__button__label__7NBZ6",SearchForm__input:"Searchbar_SearchForm__input__Vz518"}},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=(a(22),a(20)),u=a(13),s=a(4),l=a(5),b=a.n(l),m=a(6),d=a.n(m),j=a(8),f=a(40),h=a(1);function _(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(h.jsx)("header",{className:d.a.Searchbar,children:Object(h.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c?(t(c),o("")):j.b.error("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441",{duration:2e3,style:{borderRadius:"10px",background:"#333",color:"#fff",padding:"10px",textAlign:"center"}})},children:[Object(h.jsxs)("button",{type:"submit",className:d.a.SearchForm__button,children:[Object(h.jsx)(f.a,{}),Object(h.jsx)("span",{className:d.a.SearchForm__button__label,children:"Search"})]}),Object(h.jsx)("input",{className:d.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)},value:c})]})})}var p,O=a(32),g=a.n(O),x=a(15),S=a.n(x),v=function(e){var t=e.id,a=e.webformatURL,n=e.onOpenModal,r=e.largeImageURL;return Object(h.jsx)("li",{id:t,className:S.a.ImageGalleryItem,children:Object(h.jsx)("img",{className:S.a.ImageGalleryItem_image,src:a,alt:"",onClick:function(){return n(r)}})},t)},y=function(e){var t=e.images,a=e.onOpenModal;return Object(h.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL;return Object(h.jsx)(v,{id:t,webformatURL:n,onOpenModal:a,largeImageURL:r},t)}))})},I=a(33),w=a.n(I),k=function(e){var t=e.name,a=e.onLoadMoreButton;return Object(h.jsx)("button",{type:"button",className:w.a.Button,onClick:function(){return a()},children:t})},F=a(34),G=a(36),L=a(35),M=a.n(L),N=G.a.div(p||(p=Object(F.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n"]))),R=function(){return Object(h.jsx)(N,{children:Object(h.jsx)(M.a,{type:"Grid",color:"#00BFFF",height:80,width:80,timeout:1e3})})},B=a(18),C=a.n(B),E=document.querySelector("#modal-root");function U(e){var t=e.onCloseModal,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(h.jsx)("div",{className:C.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(h.jsx)("div",{className:C.a.Modal,children:a})}),E)}var A=a(19),T=a.n(A);T.a.defaults.baseURL="https://pixabay.com/api";var q="/?key=".concat("24201171-f795c334c12b489d5c6645c6d","&image_type=photo&orientation=horizontal&per_page=12"),z=function(){var e=Object(u.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat(q,"&q=").concat(t,"&page=").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=z;function H(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(s.a)(c,2),l=o[0],m=o[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),p=f[0],O=f[1],g=Object(n.useState)(!1),x=Object(s.a)(g,2),S=x[0],v=x[1],I=Object(n.useState)(""),w=Object(s.a)(I,2),F=w[0],G=w[1],L=Object(n.useState)(null),M=Object(s.a)(L,2),N=M[0],B=M[1];Object(n.useEffect)((function(){if(""!==p){var e=function(){var e=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(1),e.next=3,D(p,1).then((function(e){e.total<1?j.b.error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u043d\u043e, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441",{duration:2e3,style:{borderRadius:"10px",background:"#333",color:"#fff",padding:"10px",textAlign:"center"}}):(B(e.totalHits),r(e.hits),m((function(e){return e+1})))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[p]);var C=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),500)},E=function(e){v((function(e){return!e})),G(e)};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j.a,{}),S&&Object(h.jsx)(U,{onCloseModal:E,children:Object(h.jsx)("img",{src:F,alt:""})}),Object(h.jsx)(_,{onSubmit:function(e){O(e)}}),a.length<1?Object(h.jsx)(R,{}):Object(h.jsx)(y,{images:a,onOpenModal:E,onLargeImgClick:function(e){G(e)}}),N>12&&Object(h.jsx)(k,{name:"Load more",onLoadMoreButton:function(){D(p,l).then((function(e){m((function(e){return e+1})),r((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))}))})),C()}})]})}o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(H,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.48c4a8e8.chunk.js.map